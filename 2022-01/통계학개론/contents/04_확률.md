# 확률

## 학습목표
1. 이항분포를 이해하고, 활용할 수 있다.
2. 초기하분포를 이해하고, 활용할 수 있다.
3. 포아송분포를 이해하고, 활용할 수 있다.
4. 정규분포를 이해하고, 활용할 수 있다.

## 강의 정리 & 필기

### 1.확률의 정의

확률(probability)의 개념
- **공정한** 주사위를 던질 때 6의 눈이 나올 확률은?
- 윷놀이를 할 때 윷의 나올 확률은 얼마일까?
- 확률이란 '어떤 사건이 일어날 가능성을 0과 1사이의 실수로 표시'한 것
- 확률이란 동일한 상태에서 동일한 시행을 무한 번 반복한다고 할 때 궁극적으로 전체 시행 중에서 특정사건이 발생할 비율을 나타냄.

확률적 실험(통게적 실험)
- 실험의 결과가 구체적으로 어떤 것인가는 알 수 없음
- 전체 가능한 모든 결과들을 알고 있소 반복이 가능한 경우를 **확률적(통계적) 실험**이라고 함.

실생활 사례
- 사례1
  - 어느 생산공정에서 제품을 반복 생산하고 있다. 제품은 정상품 또는 불량품이지만 무엇이 될지는 알 수 없다.
- 사례2
  - 피자를 주문하면 피자 배달 시간은 대개 30분 이내지만 정확히는 알 수 없다.

표본공간, 사건
- 표본공간(sample space)
  - 통계적 실험이나 조사에서 일어날 수 있는 모든 가능한 결과의 모임
  - 대개 S로 표시
- 사건(또는 사상, event)
  - 일어날 수 있는 모든 가능한 결과 중에서 특정한 성질을 갖는 결과의 모임
  - 대개 A,B,C,... 등으로 표시

확률실험의 예
- 동전을 한 번 던지는 실험
  - 원소: H(=앞면) 또는 T(=뒷면)
  - 표본공간: S = {H, T}
- 주사위를 한 번 던지는 실험
  - 원소: 1, 2, 3, 4, 5, 6
  - 표본공간: S = {1, 2, 3, 4, 5, 6}
  - 사상: 실험의 결과 짝수 눈이 나오는 경우 A = {2, 4, 6}

확률실험 사례
1) 생산품을 품질검사 하는 경우
  - 표본공간 S = {정상품, 불량품}
  - 한 개 제품을 검사할 때 불량품일 사건 A = {불량품}
2) 피자 배달의 예
  - 표본공간 S = {t:t > 0}
  - 배달시간이 20분 이내일 사건 A = {t:0 <t < 20}

확률의 고전적 정의

- 표본공간 내 모든 원소의 발생 가능성이 같은 경우
- 이산형 표본공간의 경우
  - 사건 A에 속하는 원소의 개수를 표본공간의 전체 원소의 개수로 나눈 것.
  - $P(A) = \frac{\text{사건 A에 속하는 원소의 개수}}{\text{표본공간의 전체 원소의 개수}}$
- 연속형 표본공간의 경우
  - 사건 A에 속하는 원소에 대한 측도를 표본공간의 전체 원소에 대한 측도로 나눈 것.
  - $P(A) = \frac{\text{사건 A에 속하는 원소에 대한 측도}}{\text{표본공간의 전체 원소에 대한 측도}}$

주사위를 던지는 실험(사례1)

- 표본공간: $S = \{1, 2, 3, 4, 5, 6 \}$
- 홀수가 나올 확률은? 1/2

피자 배달시간의 예(사례2)

- 표본공간 : $S=\{(10, 30)\}$
- 배달 시간은 10분에서 30분까지 같은 가능성
- 20분에서 25분 사이에 배달되는 사건: $B = \{(20, 25)\}$
- 배달시간이 20분에서 25분 사이일 확률 $P(B) = \frac{5}{20} = \frac{1}{4}$

확률의 상대도수적 정의

- 사건 A가 발생할 확률
- 같은 조건하에서 통계적 실험을 수없이 많이 반복시행 하였을 때 사건 A가 발생하는 비율(즉, 상대도수)
- $P(A) = \underset{n \to \infty}\lim\frac{A_n}{n}$

확률의 공리적 정의

- 확률을 상대도수의 극한개념으로 파악하기 위해 콜모그로프(Kolmogorov)는 확률을 다음과 같의 정의함.
- 확률의 공리적 정의
  1. 표본공간 S에서 임의의 사건 A에 대하여 0 <= P(A) <= 1
  2. P(S) = 1
  3. 서로 배반인 사건 $A1, A2, \cdots$ 에 대하여 각 사건의 합집합의 확률이 각 사건의 확률의 더한 값과 같다면 $P(A)$를 사건 $A$의 확률이라 한다.

### 2.확률의 계산

#### 순열과 조합
- 이산형 표본공간에서 확률 계산을 위해서 원소의 수를 세는 방법

#### 순열(permutation)
- n개의 사물 중 r개를 선택하여 순서를 고려하여 나열하는 방법의 수
- $_nP_r = n(n-1)(n-2)\cdots(n-r+1) = \frac{n!}{(n - r)!}$
- $_nP_n = n(n-1)(n-2)\cdots1 = n!$
- 예제: 네 사람 (A, B, C, D)를 나란히 있는 4개 의자에 배치하고자 한다.
  - 네 사람을 배치하는 전체 경우의 수?
  - 이 중 A가 가장 왼쪽에 배치될 경우의 수? 그 확률은?

#### 조합(combination)  
- n개의 사물 중 r개를 순서를 고려하지 않고 추출하는 방법의 수
- ${n \choose r} = \frac{_nP_r}{r!} = \frac{n!}{r!(n-r)!}$
- 예제: 다섯 사람 (A, B, C, D, E) 중 두 명을 뽑아서 아침 청소를 하고자 한다.
  - 다섯 사람 중 두 명을 뽑는 전체 경우의 수?
  - 이 중 A가 아침 청소를 하게 될 경우의 수? 그 확률은?

#### 확률의 덧셈법칙
- $P(A \cup B) = P(A) + P(B) - P(A \cap B)$
- $A \cap B = \empty $인 경우 => 사건 A, B는 서로 배반 사건

#### 확률 덧셈법칙 예제
- 통계 데이터과학과 2학년 학생 40명 대상
  - 경제학 수강 학생: 25명
  - 경영학 수강 학갱: 30명
  - 두 과목 동시수강 학생: 20명
- 통계,데이터과학과 2학년 학생 중 어느 사람이 경제학 또는 경영학을 수강할 확률은?
  - A: 경제학을 수강하는 사건
  - B: 경영학을 수강하는 사건
  - $P\left(A\right) = \frac{25}{40}, P\left(B\right) = \frac{30}{40}, P\left(A \cap B\right) = \frac{20}{40}$
  - 경제학 또는 경영학을 수강할 확률은?
  - $\begin{matrix}P(A \cup B) &=& P(A) + P(B) + P(A \cap B) \\ &=& \frac{25}{40} + \frac{30}{40} - \frac{20}{40} = \frac{35}{40}\end{matrix}$

#### 조건부 확률(conditional probability)
$P(A|B) = \frac{P(A \cap B)}{P(B)}$ (단, $P(B) \gt 0$)

#### 조건부 확률 예제
- 어느 학과: 남자가 30명, 여자가 20명
- 남자 중 10명, 여자 중 8명이 안경 착용

|           | 안경 미착용$(N)$ | 안경 착용$(G)$ |  계   |
| :-------: | :--------------: | :------------: | :---: |
| 남자$(M)$ |        20        |       10       |  30   |
| 여자$(F)$ |        12        |       8        |  20   |
|    계     |        32        |       18       |  50   |

- 문제1: 한 명을 뽑았더니 여자였다. 이 학생이 안경을 쓴 학생일 확률은?
  - 여자일 확률: $P(F) = \frac{20}{50}$
  - 여자이면서 안경을 쓸 확률: $P(G \cap F) = \frac{8}{50}$
  - $P(G|F) = \frac{P(G \cap F)}{P(F)} = \frac{8/50}{20/50} = \frac{2}{5}$

#### 확률의 곱셈법칙
- $P(A) \gt 0$, $P(B) \gt 0$이면, $P(A \cap B) = P(A)P(B|A) = P(B)P(A|B)$
  - $P(A|B) = \frac{P(A \cap B)}{P(B)}$
  - $P(A \cap B) = P(B)P(A|B)$

#### 독립사건(independent event)
- 사건 A와 B: 서로 독립사건(independent event)
  - $P(A \cap B) = P(A)P(B)$
  - $P(B|A) = P(B)$

#### 독립사건 예제
- 주사위를 두 번 던지는 실험
  - A: 첫 번쨰 눈이 2가 되는 사건
  - B: 두 번 던져 나온 눈의 수의 합이 5인 사건
- 사건 A, B는 서로 독립인가?
  - 표본공간 - $S : \left\{(1, 1), (1,2), (1,3), \cdots, (6,5), (6, 6)\right\}$
  - $\begin{matrix}A &=& \left\{ (2, 1), (2, 2), (2, 3), (2, 4), (2, 5), (2, 6) \right\} \\ B &=& \left\{ (1, 4), (2, 3), (3, 2), (4, 1) \right\}\end{matrix}$
  - $A \cap B = \left\{(2,3)\right\}$
  - $P(A) = \frac{6}{36} = \frac{1}{6}, P(B) = \frac{4}{36} = \frac{1}{9}, P(A \cap B) = \frac{1}{36}$
  - $P(A \cap B) \neq P(A)P(B)$
  - 사건 A와 B는 서로 독립이 아니다.

#### 여사건의 확률 계산
- $A^c$를 사건 $A$의 여사건이라고 할 때
- $P(A^c) = 1 - P(A)$

#### 여사건 예제
- 상자 속의 6개 제품 중에서 2개가 불량품이다. 제품검사를 위해 3개를 추출할 때, 적어도 1개의 불량품이 뽑힐 확률은?
  - $A$: 적어도 1개의 불량품이 발견될 사건
  - $A^c$: 불량품이 하나도 없을 사건
- $P(A^c) = \frac{{4 \choose 3}}{{6 \choose 3}} = \frac{_4C_3}{_6C_3} = \frac{1}{5}$
- $P(A) = 1 - P(A^c) = 1 - \frac{1}{5} = \frac{4}{5}$