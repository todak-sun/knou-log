# 데이터 구조(2)

## 학습목표
1. 배열과 리스트의 특성을 이해할 수 있다.
2. 데이터프레임의 특성을 설명할 수 있다.
3. 배열, 리스트, 데이터프레임을 생성할 수 있다.
4. 배열, 리스트, 데이터프레임에 관련한 연산을 실행할 수 있다.

## 주요용어
- 행렬 : 동일한 형태로 구성된 2차원의 데이터 구조
- 배열 : 행렬을 2차원 이상으로 확장시킨 객체
- 리스트 : 서로 다른 형태(mode)의 데이터로 구성된 객체
- 데이터프레임 : 형태(mode)가 일반화된 행렬(matrix)

## 강의 정리 & 필기

### 1. 배열

행렬: 행과 열로 이뤄진 자료구조. 벡터를 열 방향 또는 행 방향으로 붙여 만들어나감.
배열: 행렬의 확장.

#### 1) 배열의 정의

- 배열(Array)은 행렬을 2차원 이상으로 확장시킨 객체를 의미
  - 2차원 구조로 이루어진 행렬도 일종의 배열이라고 할 수 있으며 일반적으로는 3차원 이상의 데이터 객체를 배열이라고 함
  - 복수의 행렬로 이루어진 자료구조

- 배열의 주요 속성
  - length: 자료의 개수
  - mode: 자료의 형태
  - dim: 각 차원 벡터의 크기
  - dimnames: 각 차원 리스트의 이름

- [예제 3-16] 배열을 생성하는데 사용되는 `array()` 함수를 이용하여 1에서 18까지의 원소를 갖는 3행 3열의 행렬 2개를 생성
  ```R
  arr <- array(1:24, c(3, 3, 2)) # 1 ~ 24까지의 수를 가지고 3행 3열의 행렬 2개를 생성

  dimnames(arr) <- list(paste("row", c(1:3)), paste("col", c(1:3)), paste("ar", c(1:2))) # 각 차원의 이름을 지정

  arr
  ```

#### 2)배열의 생성


1. 기본 함수
   - 배열은 행렬의 확장으로 기본적인 성질이 행렬과 유사
     - 배열을 생성하기 위한 대표적인 함수로는 아래와 같은 함수들이 있음
       - `array()` 함수를 이용하여 직접 자료를 입력하는 방법
         ```R
          array(data, dim=c(행의 개수, 열의 개수, 행렬의 개수), dim.names = NULL)
         ```
       - `dim()`함수를 이용하여 차원을 직접 지정
         ```R
          dim(x) <- c(행의 개수, 열의 개수, 행렬의 개수)
         ```
  - [예제 3-17] 
    - `array()` 함수 이용, 1 ~ 6까지의 자료로 1차원, 2차원 배열을 생성해보고 1에서 8까지 값으로 3차원 배열 만들기
    - `dim()` 함수를 이용하여 1~24까지의 자료로 3행 4열 행렬 2개를 생성

2. 배열의 연산
   - 행렬의 `%*%` 연산은 수학적 행렬 곱을 수행하지만, 배열은 원소들의 곱의 합을 나타낸다

### 2. 리스트

#### 1) 리스트의 정의
- 리스트의 서로 다른 형태(mode)의 데이터로 구성된 객체를 의미
  - 행렬과 배열 등이 동일한 형태의 원소로 이루어진 객체인 반면 리스트를 구성하는 성분(component)은 서로 다른 형태의 원소를 가질 수 있고, 길이도 다를 수도 있다.
- 리스트의 주요 속성
  - length: 자료의 개수
  - mode: 자료의 형태
  - names: 각 구성요소의 이름

#### 2) 리스트의 생성

리스트를 생성하고 추출하는 방법은 행렬과 배열 등과 유사
- 특정한 성분을 추출하거나 성분 내의 특정 원소를 추출하려면 아래와 같은 연산자를 사용한다.
  - `[[]]`를 사용하여 리스트에서의 성분을 추출
  - 성분의 이름이 부여되었다면 `$` 연산자로 구분됨
  - `[]` 연산자를 사용하여 성분 내의 특정 원소를 추출

### 3. 데이터 프레임

#### 1) 데이터 프레임의 정의

행렬은 차원으로 표시되며 같은 형태의 객체를 가지는 반면, 데이터 프레임은 각 여들이 서로 다른 형태의 객체를 갖리 수 있음

1. 데이터 프레임은 형태(mode)가 일반화된 행렬(matrix)
2. 데이터 프레임이라는 하나의 객체에 여러 종류의 자료가 들어갈 수 있음
3. 데이터 프레임의 각 열은 각각 변수와 대응
4. 분석이나 모형 설정에 적합한 자료 객체

#### 2) 데이터 프레임의 생성

1) 기본함수
   - 데이터 프레임의 주요 특징은 자료의 입력과 출력에서 다룬 내용과 유사
   - 데이터 프레임을 생성하기 위해서는 다음과 같은 방법들이 사용된다.
     - read.table() 함수를 이용하여 외부 텍스트 파일을 불러들이는 방법
       ```R
        read.rable(file, header = FALSE, sep = "")
       ```
     - data.frame() 함수를 이용하여 여러 종류의 자료객체들을 서로 결합
       ```R
        data.frame(객체1, 객체2)
       ```
     - as.data.frame() 함수를 사용하여 다른 형태의 자료 객체를 데이터 프레임의 형태로 변환
       ```R
        as.data.frame(대상객체)
       ```

2) 데이터 프레임의 결합
   - 서로 다른 데이터 프레임을 생성하였다면, 여러 데이터 프레임을 합하여 하나의 데이터 프레임으로 생성할 수 있음
   - 데이터 프레임을 합치는 방법에는 아래와 같은 함수가 사용
     - cbind() 함수를 이용하여 옆으로 합치기
     - rbind() 함수를 이용하여 아래로 합치기
     - merge() 함수를 이용하여 병합하기
   - merge() 함수를 사용하면 같은 변수에 대해서 한번만 출력
     - merge() 함수를 이용하여 test1과 test4를 병합할 경우에는 처음의 변수에 대해 알파벳 순서로 정렬이 되고 나머지 변수들이 옆으로 나열

## 정리하기

1. 배열을 생성하기 위한 함수로 array() 함수와 dim() 함수가 있다.
2. 같은 크기의 배열간의 사칙연산 및 같은 위치의 원소간의 연산과 숫자와 배열간의 산술 연산도 가능하다.
3. 리스트(List)는 다른 형태(mode)의 자료를 포함하는 하나의 객체이며, 리스트를 생성하는 함수는 list()이다.
4. data.frame() 함수를 이용하면 여러 종류의 자료객체들을 서로 결합시키면서 데이터 프레임을 생성할 수 있다.
5. as.data.frame() 함수를 사용하면 다른 형태의 자료객체를 데이터 프레임의 형태로 변환할 수 있다.